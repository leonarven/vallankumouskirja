{"version":3,"file":"main.js","mappings":"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","sources":["./src/ajs.app.ts","./src/app.module.ts","./src/main.ts","./src/ts/classes/SearchString.ts","./src/ts/classes/Song.ts","./src/ts/classes/scope-like-events.ts","./src/ts/components/app.component.ts","./src/ts/components/song-list.component.ts","./src/ts/components/song-meta.component.ts","./src/ts/components/song-view.component.ts","./src/ts/services/ajs.service.ts","./src/ts/services/current-song.service.ts","./src/ts/services/font.service.ts","./src/ts/services/loading.service.ts","./src/ts/services/resize.service.ts","./src/ts/services/song-list.service.ts","./src/ts/services/songs.service.ts"],"sourcesContent":["import { FontService                  } from './ts/services/font.service';\nimport { SongsService                 } from './ts/services/songs.service';\nimport { SongListService              } from './ts/services/song-list.service';\nimport { CurrentSongService           } from './ts/services/current-song.service'; \nimport { ResizeService                } from './ts/services/resize.service'; \nimport { LoadingService               } from './ts/services/loading.service'; \nimport { AppComponent                 } from './ts/components/app.component';\nimport { SongMetaComponent            } from './ts/components/song-meta.component';\nimport { SongViewComponent            } from './ts/components/song-view.component';\nimport { PlaceholderSongViewComponent } from './ts/components/song-view.component';\nimport { SongListComponent            } from './ts/components/song-list.component';\n\nimport { downgradeInjectable, downgradeComponent } from '@angular/upgrade/static';\n\nimport angular from 'angular';\nwindow.angular = angular;\n\nexport const AngularJSAppModule = angular.module( \"laulukirja\", [ \"ui.router\", 'ui.router.upgrade' ])\n\n.service( \"currentSong\", downgradeInjectable( CurrentSongService ))\n.service( \"songList\",    downgradeInjectable( SongListService ))\n.service( \"Songs\",       downgradeInjectable( SongsService ))\n.service( 'fontService', downgradeInjectable( FontService ))\n.service( 'resize',      downgradeInjectable( ResizeService ))\n.service( 'loading',     downgradeInjectable( LoadingService ))\n\n.directive( 'appRoot',             downgradeComponent({ component: AppComponent }))\n.directive( 'songMeta',            downgradeComponent({ component: SongMetaComponent }))\n.directive( 'songView',            downgradeComponent({ component: SongViewComponent }))\n.directive( 'songList',            downgradeComponent({ component: SongListComponent }))\n.directive( 'placeholderSongView', downgradeComponent({ component: PlaceholderSongViewComponent }));\n","import { DoBootstrap, NgModule } from '@angular/core';\nimport { CommonModule  } from '@angular/common';\nimport { FormsModule   } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { UpgradeModule } from '@angular/upgrade/static';\nimport { UIRouterUpgradeModule } from '@uirouter/angular-hybrid';\n\nimport { ajsTimeoutServiceProvider, ajsInjectorServiceProvider, ajsSceServiceProvider, ajsTemplateRequestServiceProvider, ajsStateServiceProvider } from './ts/services/ajs.service'\n\nimport { FontService               } from './ts/services/font.service';\nimport { SongsService                 } from './ts/services/songs.service';\nimport { SongListService              } from './ts/services/song-list.service';\nimport { CurrentSongService           } from './ts/services/current-song.service'; \nimport { ResizeService                } from './ts/services/resize.service'; \nimport { LoadingService               } from './ts/services/loading.service'; \n\nimport { AppComponent                } from './ts/components/app.component';\nimport { SongMetaComponent            } from './ts/components/song-meta.component';\nimport { SongViewComponent            } from './ts/components/song-view.component';\nimport { PlaceholderSongViewComponent } from './ts/components/song-view.component';\nimport { SongListComponent            } from './ts/components/song-list.component';\n\nimport angular from 'angular';\n\nimport { AngularJSAppModule } from './ajs.app';\n\n/************************************************************/\n\nconst states = [{\n\tname: \"index\",\n\turl: \"/index\",\n\tcomponentSelector: 'placeholder-song-view',\n\tcomponentName: 'placeholderSongView',\n\tcomponent: PlaceholderSongViewComponent,\n},{\n\tname: \"index.song\",\n\turl: \"/:songKey\",\n\tcomponentSelector: 'song-view',\n\tcomponentName: 'songView',\n\tcomponent: SongViewComponent,\n}];\n\nconst ng2States = states.map( v => {\n\tlet { name, url, component } = v;\n\treturn {\n\t\tname, url,\n\t\tviews: { '@': { component } }\n\t};\n});\n\nconst ng1States = [];\n\nAngularJSAppModule.run([ '$stateRegistry', '$urlService', ( $stateRegistry, $urlService ) => {\n\n\t$urlService.rules.initial({ state: 'index' });\n\n\tfor (let state of ng1States) $stateRegistry.register( state );\n}]);\n\n/****************************************************************/\n\n@NgModule({\n\timports: [\n\t\tBrowserModule,\n\t\tUpgradeModule,\n\t\tUIRouterUpgradeModule.forRoot({ states: ng2States }),\n\t\tCommonModule,\n\t\tFormsModule,\n\t],\n\tdeclarations: [\n\t\tAppComponent,\n\t\tSongListComponent,\n\t\tSongViewComponent,\n\t\tPlaceholderSongViewComponent,\n\t],\n\tproviders: [\n\t\tajsTimeoutServiceProvider,\n\t\tajsInjectorServiceProvider,\n\t\tajsSceServiceProvider,\n\t\tajsTemplateRequestServiceProvider,\n\t\tajsStateServiceProvider,\n\t\tLoadingService,\n\t\tSongsService,\n\t\tSongListService,\n\t\tCurrentSongService,\n\t\tFontService,\n\t\tResizeService,\n\t],\n\texports: [\n\t\tFormsModule,\n\t\tCommonModule,\n\t\tAppComponent,\n\t\tSongListComponent,\n\t\tSongViewComponent,\n\t\tPlaceholderSongViewComponent,\n\t]\n})\nexport class AppModule implements DoBootstrap {\n\t\n\tconstructor( private upgrade: UpgradeModule ) {}\n\n\tngDoBootstrap() {\n\t\tthis.upgrade.bootstrap( document.body, [ AngularJSAppModule.name ], { strictDi: true });\n\t}\n}\n","import \"../node_modules/hammerjs/hammer.js\";\n\nimport { NgZone                 } from '@angular/core';\nimport { UIRouter, UrlService   } from '@uirouter/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule          } from './app.module';\nimport { AngularJSAppModule } from './ajs.app';\n\n\nAngularJSAppModule.config([ '$urlServiceProvider', $urlService => $urlService.deferIntercept() ]);\n\nplatformBrowserDynamic().bootstrapModule( AppModule ).then( platformRef => {\n\n\tconst urlService: UrlService = platformRef.injector.get( UIRouter ).urlService;\n\n\tfunction startUIRouter() {\n\t\turlService.listen();\n\t\turlService.sync();\n\t}\n\n\tplatformRef.injector.get<NgZone>( NgZone ).run( startUIRouter );\n});\n","const regexp_torm  = /[\\.,:'\\(\\)\\[\\]\\{\\}\\/\\\\]/g;  // Poistettavat (whitespacella korvattavat) merkit\nconst regexp_toosm = /\\s.{0,3}\\s/g;                 // Liian lyhyet whitespacen ympäröimät merkkijonot ( 0-3 merkkiä) (myös whitespacen, (2-5 merkkiä))\n\nfunction parseArray2string( arr: any[] ): string {\n\treturn arr.filter(function( v: any ) {\n\t\treturn `${ v }`.trim().length > 0;\n\t}).map(function( v: any ) {\n\t\treturn Array.isArray( v ) ? parseArray2string( v ) : v;\n\t}).join(\" \");\n}\n\nexport interface ISearchStringObjectArguments {\n\t[key: string]: string;\n}\n\nexport interface ISearchStringContains {\n\t[key: string]: string;\n}\n\nexport class SearchString {\n\n\t$string: string = \"\";\n\n\t$contains: ISearchStringContains = {};\n\n\tconstructor( argv:(ISearchStringObjectArguments|string) = {} ) {\n\n\t\t//this.$string   = \"\";\n\t\t//this.$contains = {}\n\n\t\tif (argv) this.extend( argv );\n\t}\n\n\textend( argv: (ISearchStringObjectArguments|string) ) {\n\n\t\tvar str: (null|string) = null;\n\n\t\tif (typeof argv == \"object\") {\n\t\t\tstr = \"\";\n\t\t\tfor (var key in argv) {\n\t\t\t\tif (argv[ key ] != null) {\n\t\t\t\t\targv[ key ] = SearchString.filterString2searchKey( argv[ key ]);\n\t\t\t\t\tthis.$contains[ key ] = (this.$contains[ key ] || \"\") + \" \" + argv[ key ];\n\t\t\t\t\tstr += \" \" + argv[ key ];\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof argv == \"string\" && argv.trim().length > 0 ){\n\t\t\tstr = argv;\n\t\t}\n\n\t\tif (typeof str == \"string\") {\n\t\t\tthis.$string = SearchString.filterString2searchKey([ this.$string, str ]);\n\t\t} else if (argv) {\n\t\t\tconsole.warn( \"SearchString.extend :: Invalid argument\" );\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn this.$string;\n\t}\n\n\tstatic filterString2searchKey( str: (string|string[]) ): string {\n\t\t//if (arguments.length > 1) return SearchString.filterString2searchKey([ str, argv1, argv2 ]);\n\t\tif (Array.isArray( str )) str = parseArray2string( str );\n\t\tif (typeof str != \"string\") return console.warn( \"SearchString.filterString2searchKey :: Invalid argument\", typeof str, str ), \"\";\n\n\t\treturn (\" \" + str.toLowerCase().replace( regexp_torm, \" \" ) + \" \").replace( regexp_toosm, \" \" ).trim();\n\t}\n}\n\n\n","\nimport { SearchString } from './SearchString';\n\nexport interface ISongJson {\n\n\tauthor?: (null|string);\n\n\ttitle: any;\n\n\tnum?: (null|number);\n\t\n\tdisable?: boolean;\n\n}\n\nexport class Song implements ISongJson {\n\n\tkey: string;\n\n\ttitle: any;\n\tnum?: number;\n\t\n\tdisable?: boolean;\n\n\t$templateUrl?: string;\n\t$search: SearchString;\n\n\tconstructor( key: string, data: any ) {\n\n\t\tthis.key = key;\n\n\t\tfor (let v in data) this[ v ] = data[ v ];\n\n\t\tif (this.$templateUrl == null) {\n\t\t\tthis.$templateUrl = `songs/${ key }/song.html`;\n\t\t}\n\n\t\tthis.$search = new SearchString({\n\t\t\ttitle : data.title || \"\",\n\t\t\tnum   : data.num == null ? \"\" : data.num.toString().trim()\n\t\t});\n\t}\n}\n","export class ScopeLikeEvents {\n\n\tcallbacks = {};\n\n\t$timeout;\n\n\tconstructor( $timeout? ) {\n\t\tif ($timeout) this.$timeout = $timeout;\n\t}\n\n\t$on( key, callback ) {\n\t\tif (!this.callbacks[ key ]) this.callbacks[ key ] = [];\n\n\t\tthis.callbacks[ key ].push( callback );\n\t}\n\n\t$emit( key ) {\n\t\tif (this.callbacks[ key ]) {\n\t\t\tfor (let callback of this.callbacks[ key ]) {\n\t\t\t\ttry {\n\t\t\t\t\tcallback();\n\t\t\t\t} catch (error) {\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.$timeout) this.$timeout();\n\t\t}\n\t}\n}\n","import { Component } from '@angular/core';\nimport { SongListService } from '../services/song-list.service';\nimport { LoadingService } from '../services/loading.service';\nimport { FontService } from '../services/font.service';\n\n@Component({\n\tselector: 'app-root',\n\ttemplate: `\n\t\t<main>\n\t\t<section id=\"song-content\" class=\"col-xs-12\" style=\"user-select:text\"\n\t\t\t ng-class=\"{ 'col-sm-6 col-md-8 col-lg-9 col-sm-offset-6 col-md-offset-4 col-lg-offset-3' : songList.isOpen() }\"\n\t\t>\n\n\t\t\t<article id=\"content\"\n\t\t\t\t class=\"loading col-xs-12 col-sm-12 col-md-12 col-lg-pull-0\"\n\t\t\t\t ng-class=\"{ 'loading': loading.is(), 'col-lg-8': songList.isOpen() }\"\n\t\t\t>\n\t\t\t\t<ui-view></ui-view>\n\t\t\t</article>\n\n\t\t</section>\n\n\t\t<section id=\"songlist-wrapper\"\n\t\t\t class=\"sidebar col-xs-12 col-sm-6 col-md-4 col-lg-3\"\n\t\t\t ng-if=\"songList.isOpen()\"\n\t\t>\n\t\t\t <song-list></song-list>\n\t\t</section>\n\n\t</main>\n\n\t<header class=\"navbar navbar-default\">\n\t\t<div class=\"container-fluid\">\n\t\t\t<div class=\"navbar-header\">\n\t\t\t\t<ul class=\"nav navbar-nav pull-right\">\n\t\t\t\t\t<li class=\"font-ctrl\"><a class=\"font-decr-btn\" ng-click=\"font.decreaseFont()\" href=\"\">A-</a></li>\n\t\t\t\t\t<li class=\"font-ctrl\"><a class=\"font-incr-btn\" ng-click=\"font.increaseFont()\" href=\"\">A+</a></li>\n\t\t\t\t</ul>\n\t\t\t\t<a class=\"navbar-brand\" ng-click=\"songList.toggleOpen()\" href>\n\t\t\t\t\t<span><b class=\"glyphicon glyphicon-menu-hamburger\"></b></span> Laululista\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</header>`\n})\nexport class AppComponent {\n\n\tloading;\n\tsongList;\n\tfont;\n\n\tconstructor( songList: SongListService, loading: LoadingService, font: FontService ) {\n\t}\n}\n","\nimport { Component, Input, Inject } from '@angular/core';\nimport { Song } from '../classes/Song';\nimport { LoadingService } from '../services/loading.service';\nimport { SongsService   } from '../services/songs.service';\nimport { CurrentSongService   } from '../services/current-song.service';\nimport { AjsTimeout, AjsState } from '../services/ajs.service';\n\n@Component({\n\tselector: 'song-list',\n\ttemplate: \n\t`<div id=\"search\">\n\t\t<input type=\"text\" class=\"form-control\" placeholder=\"Hae...\" [(ngModel)]=\"search\" (ngModelChange)=\"runFilter()\">\n\n\t\t<a style=\"cursor:pointer\" class=\"clear-btn glyphicon glyphicon-remove\" *ngIf=\"search.trim().length\" (click)=\"runFilter('')\"></a>\n\t</div>\n\n\t<ul id=\"songlist\" class=\"songs-list-group list-group\">\n\t\t<li class=\"list-group-item\" *ngFor=\"let song of getSongs()\">\n\t\t\t<a style=\"cursor:pointer\" (click)=\"currentSong.select( song.key )\">\n\t\t\t\t<h4 class=\"title\"><b class=\"number\">{{ song.num }}</b> &ndash; {{ song.title }}</h4>\n\t\t\t</a>\n\t\t</li>\n\n\t\t<li class=\"list-group-item no-results\" *ngIf=\"searchResult != null && searchResult.length == 0\">\n\t\t\t<b><h4>Ei lauluja :&lt;</h4></b>\n\t\t</li>\n\t</ul>`\n})\nexport class SongListComponent {\n\n\tstatic $inject = [ \"$scope\", \"$state\", \"Songs\" ];\n\n\trunFilter;\n\n\tgetSongs;\n\tSongs;\n\t$state;\n\t\n\tsearch: string = \"\";\n\t//@Input('search') search: string = \"\";\n\n\tsearchResult: (null|Song[]) = null;\n\n\tconstructor( @Inject( AjsState ) $state, public currentSong: CurrentSongService, Songs: SongsService ) {\n\n\t\tthis.$state = $state;\n\n\t\tlet $scope = this;\n\t\t\n\t\t$scope.$state = $state;\n\t\t$scope.Songs = Songs;\n\n\t\t$scope.getSongs = () => {\n\n\t\t\tif (this.searchResult != null) return this.searchResult;\n\n\t\t\treturn Songs.sorted;\n\t\t}\n\n\t\t$scope.runFilter = ( searchStr = $scope.search ) => {\n\n\t\t\t$scope.search = searchStr = searchStr || '';\n\n\t\t\tthis.searchResult = null;\n\n\t\t\tlet searchArr = searchStr.toLowerCase( ).trim( ).split( /\\s+/g );\n\n\t\t\tif (searchArr.length) {\n\n\t\t\t\tthis.searchResult = Songs.sorted.filter( song => {\n\t\t\t\t\tfor (let word of searchArr) {\n\t\t\t\t\t\tif (song.$search.$string.indexOf( word ) != -1) return true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n}\n","import { Component } from '@angular/core';\nimport { CurrentSongService } from '../services/current-song.service';\n\n@Component({\n\tselector: 'song-meta',\n\ttemplate: `\n\t\t<div id=\"songmeta\">\n\t\t\t<h2 class=\"title\">{{ meta.title }}</h2>\n\t\t\t<h3 class=\"author\">{{ meta.author }}</h3>\n\t\t\t<p class=\"description\">{{ meta.description }}</p>\n\t\t\t<ul class=\"links\">\n\t\t\t\t<li *ngFor=\"let link of meta.links\">\n\t\t\t\t\t<a href=\"{{ link.href }}\" target=\"_blank\" href=\"#\"><i class=\"glyphicon glyphicon-link\"></i> {{link.title}}</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>`\n})\nexport class SongMetaComponent {\n\t\n\tmeta: any;\n      \n\tconstructor( currentSong: CurrentSongService ) {\n\n\t\tcurrentSong.get().then( $song => {\n\n\t\t\tthis.meta = {\n\t\t\t\ttitle  : $song.title,\n\t\t\t\tauthor : $song.author || null,\n\t\t\t\tlinks  : $song.links  || {},\n\t\t\t};\n\n\t\t\tfor (let title in this.meta.links) {\n\t\t\t\tthis.meta.links[title] = {\n\t\t\t\t\ttitle : title,\n\t\t\t\t\thref  : this.meta.links[title]\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n}\n","import { Inject, Component } from '@angular/core';\nimport { SongListService } from '../services/song-list.service';\nimport { CurrentSongService } from '../services/current-song.service';\nimport { LoadingService } from '../services/loading.service';\nimport { FontService } from '../services/font.service';\nimport { AjsTimeout } from '../services/ajs.service';\n\nlet hammertime;\n\n@Component({\n\tselector: 'song-view',\n\ttemplate: `\n\t<pre\n\t\tclass=\"alert alert-danger\"\n\t\tstyle=\"display:inline-block;margin-top:1em;\"\n       \t\t*ngIf=\"error\">{{ error }}</pre>\n\n\t<pre\n\t\t*ngIf=\"$song\"\n\t\t[innerHtml]=\"$song.lyrics\"\n\t\tid=\"song-body\"\n\t\t[ngStyle]=\"{ 'font-size.em' : (fontService.size / 10.0) }\"\n\t></pre>`\n})\nexport class SongViewComponent {\n\n\terror;\n\tinit;\n\t$song;\n\n\tconstructor( @Inject( AjsTimeout ) $timeout, currentSong: CurrentSongService, public fontService: FontService, songList: SongListService, loading: LoadingService ) {\n\n\t\tlet $scope = this;\n\t\t\t\n\t\tconsole.log( \"songViewController :: Initiated\" );\n\t\t\n\t\tloading.set( true );\n\n\t\tcurrentSong.get().then( $song => {\n\t\t\n\t\t\tconsole.log( \"songViewController :: Loaded song \" + $song.title, $song );\n\n\t\t\t$scope.$song = $song;\n\n\t\t\tvar songBodyElem = document.getElementById(\"song-body\");\n\n\t\t\tif (window.innerWidth <= 768) songList.close();\n\n\t\t\treturn $scope.init();\n\n\t\t}).catch( error => {\n\n\t\t\tif (!this.$song) {\n\t\t\t\tthis.error = new Error( \"Laulua ei onnistuttu lataamaan!\" );\n\t\t\t} else {\n\t\t\t\tthis.error = error;\n\t\t\t}\n\n\t\t\tconsole.error( error );\n\n\t\t}).then(() => {\n\n\t\t\tloading.set( false );\n\t\t});\n\n\t\t$scope.init = () => {\n\n\t\t\treturn $timeout(() => {\n\n\t\t\t\tlet hammertime = iniHammer();\n\n\t\t\t\tif (hammertime) hammertime.on( 'tap', function( evt ) {\n\t\t\t\t\t//$rootScope.$broadcast('toggleFont');\n\t\t\t\t\tfontService.events.$emit( 'toggleFont' );\n\t\t\t\t});\n\n\t\t\t\treturn fontService.resetFont();\n\t\t\t});\n\t\t};\n\t}\n}\n\nfunction iniHammer() {\n\t\t\t\n\tlet hammertime;\n\n\ttry {\n\t\tvar songContentElem = document.getElementById( \"song-content\" );\n\n\t\tif (window.Hammer && songContentElem) {\n\t\n\t\t\thammertime = window.Hammer.instance;\n\n\t\t\tif (hammertime) {\n\t\t\t\thammertime.off( 'tap' );\n\t\t\t\thammertime.off( 'pinch' );\n\t\t\t}\n\n\t\t\thammertime = Hammer.instance= new Hammer( songContentElem, { });\n\n\t\t\t//hammertime.on( 'pinch', function( evt ) {});\n\n\t\t\thammertime.get( 'tap' ).set({ taps: 2 });\n\t\n\t\t\treturn hammertime;\n\t\t}\n\n\t} catch (error) {\n\t\tconsole.error( error );\n\t}\n\t\n\treturn hammertime;\n}\n\n@Component({\n\tselector: 'placeholder-song-view',\n\ttemplate: \"<h3 style='text-align:left;padding-left:1em;'><b class='glyphicon glyphicon-share-alt' style='transform:rotate(230deg);'></b> Valitse laulu laululistasta</h3>\"\n})\nexport class PlaceholderSongViewComponent {\n\n\tconstructor( @Inject( AjsTimeout ) $timeout, loading: LoadingService ) {\n\t\t$timeout(()=>{ loading.set( 0 ); });\n\t}\n}\n","\nimport { InjectionToken } from '@angular/core';\n\n\nexport const AjsState = new InjectionToken(\"AjsState\");\n\nexport function ajsStateServiceFactory(i: any) {\n  return i.get('$state');\n}\nexport const ajsStateServiceProvider = {\n  provide: AjsState,\n  useFactory: ajsStateServiceFactory,\n  deps: ['$injector']\n};\n\n\nexport const AjsTimeout = new InjectionToken(\"AjsTimeout\");\n\nexport function ajsTimeoutServiceFactory(i: any) {\n  return i.get('$timeout');\n}\nexport const ajsTimeoutServiceProvider = {\n  provide: AjsTimeout,\n  useFactory: ajsTimeoutServiceFactory,\n  deps: ['$injector']\n};\n\n\nexport const AjsInjector = new InjectionToken(\"AjsInjector\");\n\nexport function ajsInjectorServiceFactory(i: any) {\n  return i.get('$injector');\n}\nexport const ajsInjectorServiceProvider = {\n  provide: AjsInjector,\n  useFactory: ajsInjectorServiceFactory,\n  deps: [ '$injector' ]\n};\n\n\nexport const AjsSce = new InjectionToken(\"AjsSce\");\n\nexport function ajsSceServiceFactory(i: any) {\n  return i.get('$sce');\n}\nexport const ajsSceServiceProvider = {\n  provide: AjsSce,\n  useFactory: ajsSceServiceFactory,\n  deps: ['$injector']\n};\n\n\nexport const AjsTemplateRequest = new InjectionToken(\"AjsTemplateRequest\");\n\nexport function ajsTemplateRequestServiceFactory(i: any) {\n  return i.get('$templateRequest');\n}\nexport const ajsTemplateRequestServiceProvider = {\n  provide: AjsTemplateRequest,\n  useFactory: ajsTemplateRequestServiceFactory,\n  deps: ['$injector']\n};\n\n\n\n","import { SongsService } from './songs.service';\nimport { AjsState, AjsInjector, AjsSce, AjsTemplateRequest } from './ajs.service'\nimport { Injectable, Inject } from '@angular/core';\n\t\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class CurrentSongService {\n\n\t$templateRequest;\n\t$sce;\n\tSongs;\n\n\tstatic $inject = [ \"$sce\", \"Songs\" ];\n\n\tconstructor(\n\t\t@Inject( AjsInjector ) public $injector,\n\t\t@Inject( AjsTemplateRequest ) $templateRequest,\n\t\t@Inject( AjsSce ) $sce,\n\t\t@Inject( AjsState ) public $state,\n\t\tSongs: SongsService\n\t) {\n\t\tthis.$templateRequest = $templateRequest;\n\t\tthis.$sce             = $sce;\n\t\tthis.Songs            = Songs;\n\t}\n\n\tselect( songKey: string ) {\n\t\tthis.$state.go( 'index.song', { songKey })\n\t}\n\n\tasync get() {\n\t\t\n\t\treturn Promise.resolve().then(() => {\n\n\t\t\tlet key = this.$injector.get(\"$stateParams\").songKey;\n\t\t\n\t\t\tif (!key) throw \"Missing song_key!\";\n\t\t\n\t\t\tlet song = this.Songs.index[key];\n\n\t\t\tif (!song) throw \"Could not found song '\"+ key +\"'\";\n\n\t\t\tif (song.lyrics) return song;\n\n\t\t\treturn this.$templateRequest( song.$templateUrl ).then(( lyrics: string ) => {\n\n\t\t\t\tsong.lyrics = lyrics;\n\t\t\t\tsong.$lyrics = this.$sce.trustAsHtml( lyrics );\n\n\t\t\t\treturn song;\n\t\t\t});\n\t\t});\n\t}\n}\n","\nimport { Injectable, Inject } from '@angular/core';\nimport { ResizeService } from './resize.service';\n\nimport { AjsTimeout  } from './ajs.service';\nimport { ScopeLikeEvents } from '../classes/scope-like-events';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class FontService {\t\n\n\tstatic $inject = [ \"$timeout\", \"resize\" ];\n\n\tsize: number;\n\n\tresetFont: ()=>{};\n\n\tevents = new ScopeLikeEvents();\n\n\tconstructor(\n\t\t@Inject(AjsTimeout) public $timeout,\n\t\tresize: ResizeService\n\t) {\n\n\t\tconst self = this;\n\t\t\n\t\tthis.size = 10;\n\t\t\n\t\tthis.resetFont = resetFont;\n\n\t\tresize.$on( \"resize\", resetFont );\n\t\t\n\t\tthis.events.$on( \"resetFont\", resetFont );\n\t\tthis.events.$on( \"toggleFont\", toggleFont );\n\t\tthis.events.$on( \"increaseFont\", ( evt: any, n: number ) => (self.size *= (n || 1.25) ));\n\t\tthis.events.$on( \"decreaseFont\", ( evt: any, n: number ) => (self.size *= (n || 0.8) ));\n\n\t\tfunction calcLargeFont(): number {\n\t\t\tlet pre:    any = document.getElementById( \"song-body\" );\n\t\t\tlet parent: any = document.getElementById( \"content\" );\n\n\t\t\tif (!parent || !parent.offsetWidth || !pre || !pre.offsetWidth) return 12;\n\n\t\t\tvar prs = Math.max( 0, (parent.offsetWidth - 10) / pre.offsetWidth );\n\n\t\t\treturn self.size * prs;\n\t\t}\n\n\t\tfunction calcMiddleFont(): number {\n\t\t\tlet pre:    any = document.getElementById( \"song-body\" );\n\t\t\tlet parent: any = document.getElementById( \"content\" );\n\n\t\t\tif (!parent || !parent.offsetWidth || !pre || !pre.offsetWidth) return 10;\n\n\t\t\tvar prs = Math.max( 0, parent.offsetWidth / pre.offsetWidth );\n\n\t\t\treturn self.size * prs;\n\t\t}\n\n\t\tfunction toggleFont() {\n\t\t\treturn $timeout(function(){\n\t\t\t\tlet middleFont: number = calcMiddleFont();\n\t\t\t\tlet largeFont: number = calcLargeFont();\n\t\t\t\tlet font: number = self.size;\n\t\n\t\t\t\tlet middleDiff = Math.abs( font - middleFont );\n\t\t\t\tlet largeDiff  = Math.abs( font - largeFont );\n\n\t\t\t\tif (largeDiff < .1) {\n\t\t\t\t\t// Lähellä large-kokoa -> toggletetaan middleksi\n\t\t\t\t\tfont = middleFont;\n\n\t\t\t\t} else if (middleDiff < .1) {\n\t\t\t\t\t// Lähellä middle-kokoa -> toggletetaan largeksi\n\t\t\t\t\tfont = largeFont;\n\n\t\t\t\t} else if (font < middleFont) {\n\t\t\t\t\tfont = middleFont;\n\n\t\t\t\t} else if (font > largeFont) {\n\t\t\t\t\tfont = largeFont;\n\n\t\t\t\t} else if (middleDiff > largeDiff) {\n\t\t\t\t\tfont = middleFont;\n\n\t\t\t\t} else {\n\t\t\t\t\tfont = largeFont;\n\t\t\t\t}\n\n\t\t\t}).catch(( e: any ) => {\n\t\t\t\tconsole.warn( \"Unable to customize font size\", e );\n\t\t\t});\n\n\t\t}\n\n\t\tfunction resetFont() {\n\t\t\treturn $timeout(function(){\n\t\t\t\tself.size = calcMiddleFont();\n\t\t\t\tconsole.log( \"resetFont() :: \", self.size, \"em\" );\n\t\t\t}).catch(( e: any ) => {\n\t\t\t\tconsole.warn( \"Unable to customize font size\", e );\n\t\t\t});\n\t\t}\n\n\t}\n\n\tgetFont(): number {\n\t\treturn this.size;\n\t};\n\n\tsetFont( size: number ): number {\n\t\treturn this.size = size;\n\t}\n\n\tdecreaseFont( x = 0.8 ): number {\n\t\treturn this.setFont( this.size * x );\n\t}\n\n\tincreaseFont( x = 1.25 ): number {\n\t\treturn this.setFont( this.size * x );\n\t}\n}\n\n","import { Inject } from '@angular/core';\n\nexport class LoadingService {\n\n\tloading: boolean = true;\n\n\tis() {\n\t\treturn this.loading;\n\t}\n\t\n\tset( _loading: (boolean|number) ) {\n\t\t\n\t\tlet loading = !!_loading;\n\n\t\tconsole.count( \"loading.set(\" + this.loading + \"->\" + loading + \")\" );\n\t\t\n\t\tif (this.loading != loading) {\n\n\t\t\tthis.loading = loading;\n\t\t}\n\n\t\treturn this.loading;\n\t}\n}\n","import { Injectable, Inject } from '@angular/core';\n\nimport { AjsTimeout } from './ajs.service';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class ResizeService {\n\n\tcallbacks = {};\n\n\t$timeout;\n\n\tstatic $inject = [ \"$timeout\" ];\n\n\tconstructor( @Inject( AjsTimeout ) $timeout ) {\n\t\tthis.$timeout = $timeout;\n\n\t\twindow.addEventListener( \"resize\", () => {\n\t\t\tthis.$emit( \"resize\" );\n\t\t});\n\t}\n\n\t$on( key, callback ) {\n\t\tif (!this.callbacks[ key ]) this.callbacks[ key ] = [];\n\n\t\tthis.callbacks[ key ].push( callback );\n\t}\n\n\t$emit( key ) {\n\t\tif (this.callbacks[ key ]) {\n\t\t\tfor (let callback of this.callbacks[ key ]) {\n\t\t\t\ttry {\n\t\t\t\t\tcallback();\n\t\t\t\t} catch (error) {\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$timeout();\n\t\t}\n\t}\n}\n","import { ResizeService } from './resize.service'\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class SongListService {\n\n\topen: boolean = true;\n\t\n\tresize;\n\n\tstatic $inject = [ \"resize\" ];\n\n\tconstructor( resize: ResizeService ) {\n\t\tthis.resize = resize;\n\t}\n\n\ttoggleOpen() {\n\t\treturn this.isOpen( !this.open );\n\t}\n\n\tisOpen( isOpen: (null|boolean) = null ) {\n\n\t\tif (isOpen !== null) {\n\t\t\tthis.setOpen( isOpen );\n\t\t}\n\t\t\n\t\treturn this.open;\n\t}\n\n\tsetOpen( isOpen ) {\n\t\t\n\t\tif (this.open && isOpen) return;\n\t\tif (!this.open && !isOpen) return;\n\n\t\tthis.open = !!isOpen;\n\t\t\n\t\tthis.resize.$emit( \"resize\" );\n\t}\n\t\n\tclose() {\n\t\treturn this.isOpen( false );\n\t}\n}\n","\nimport { Song, ISongJson } from '../../ts/classes/Song';\n\nimport SONGS_META from '../../songs/index.json';\n\ninterface ISongJsonIndex {\n\t[key: string]: ISongJson;\n}\n\ninterface ISongIndex {\n\t[key: string]: Song;\n}\n\nexport class SongsService {\n\t\n\tstatic $inject = []; // \"$http\" ];\n\n\t$http;\n\n\tindex: ISongIndex;\n\tsorted: Song[] = [];\n\n\tconstructor() { // $http: any ) {\n\t\tthis.$http = null; //$http;\n\n\t\tthis.index = {};\n\n\t\ttry {\n\t\t\tthis.setIndex( SONGS_META );\n\t\t} catch (e) {}\n\t}\n\n\tsetIndex( index: ISongJsonIndex ) {\n\n\t\tconsole.debug( \"SongsService.setIndex()\", index );\n\n\t\tthis.index = {};\n\t\tthis.sorted = [];\n\n\t\tfor (var key in index) {\n\t\t\tif (!index[ key ].disable) {\n\t\t\t\tthis.index[ key ] = new Song( key, index[ key ]);\n\t\t\t\tthis.sorted.push( this.index[ key ] );\n\t\t\t}\n\t\t}\n\n\t\tthis.sorted.sort(( a: ISongJson, b: ISongJson ) => ((a.num||0) - (b.num||0)));\n\n\t\treturn this.index;\n\t}\n\n\tinit( url: string ) {\n\t\treturn this.$http({ url }).then(( response: any ) => {\n\n\t\t\treturn this.setIndex( response.data );\n\t\t});\n\t}\n}\n"],"names":["AjsState","AjsInjector","AjsSce","AjsTemplateRequest","CurrentSongService","constructor","$injector","$templateRequest","$sce","$state","Songs","select","songKey","go","get","Promise","resolve","then","key","song","index","lyrics","$templateUrl","$lyrics","trustAsHtml","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}