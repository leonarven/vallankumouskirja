angular.module("laulukirja-app").service("Songs",["$http","$injector",function(t,e){this.index={};this.setIndex=t=>{for(var e in this.index=t,this.index)this.index[e].disable?delete this.index[e]:this.index[e]=new Song(e,this.index[e]);return this.sorted=Object.keys(this.index).map((t=>this.index[t])).sort(((t,e)=>t.num-e.num)),this.index},this.init=i=>{try{return this.setIndex(e.get("songs"))}catch(t){}return t({url:i}).then((t=>this.setIndex(t.data)))}}]);