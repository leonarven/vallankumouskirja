"use strict";angular.module("laulukirja-app").service("Songs",["$http","$injector",function(n,e){var t=this;this.index={};this.setIndex=function(n){for(var e in t.index=n,t.index)t.index[e].disable?delete t.index[e]:t.index[e]=new Song(e,t.index[e]);return t.sorted=Object.keys(t.index).map((function(n){return t.index[n]})).sort((function(n,e){return n.num-e.num})),t.index},this.init=function(i){try{return t.setIndex(e.get("songs"))}catch(n){}return n({url:i}).then((function(n){return t.setIndex(n)}))}}]);